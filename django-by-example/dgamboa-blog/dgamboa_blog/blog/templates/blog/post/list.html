{% extends "blog/base.html" %}
{% block title %}
    My Blog
{% endblock title %}
{% block content %}
    <h1>My Blog</h1>
    {% if tag %}<h2>Post tagged with "{{ tag.name }}"</h2>{% endif %}
    {% for post in posts %}
        <h2>
            {% comment %}
                We replace url with get_absolute_url, which is a method we defined in the Post model.
                <a href="{% url 'blog:post_detail' post.id %}">{{ post.title }}</a>
            {% endcomment %}
            <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
            <p class="tags">Tags: {{ post.tags.all|join:", " }}</p>
        </h2>
        <p class="date">Published {{ post.publish }} by {{ post.author }}</p>
        {{ post.body|truncatewords:30|linebreaks }}
    {% endfor %}
    {% comment "pagination func view" %}
        {% include "pagination.html" with page=posts %}
        for ListView generic view page request object is stored in page_obj
    {% endcomment %}
    {% comment %}
        When we use the ListView generic view, the page request object is stored in the page_obj variable.
        {% include  "pagination.html" with page=page_obj %}
    {% endcomment %}
    {% include  "pagination.html" with page=posts %}
{% endblock content %}
